<div style="max-height:250px;overflow:auto;">
    <div ng-if="workspaces | isEmpty" class="categoryGrouping">
        <i>None</i>
    </div>
    <div ng-repeat="(workspace, layers) in workspaces" class="categoryGrouping">
        <b>{{workspace}}</b>
        <div ng-repeat="layer in layers" class="categoryGrouping">
            <div class="legendIconContainer">
                <img ng-src="{{layer.serverUrl || CONFIG.geoserver.defaultUrl + '/wms'}}?REQUEST=GetLegendGraphic&FORMAT=image/png&WIDTH=16&HEIGHT=16&LAYER={{layer.Name}}"
                     ng-if="layer.queryable"/>
            </div>
            <input type="checkbox" ng-model="layer.categoryViewState.toggledOn" ng-change="toggleLayer(layer, workspace)">
            {{::layer.Title}}
        </div>
    </div>
</div>
